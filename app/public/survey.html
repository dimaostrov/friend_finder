<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://unpkg.com/tachyons@4.9.1/css/tachyons.min.css" />
</head>

<body>
  <header class="bg-gold sans-serif">
    <div class="mw9 center pa4 pt5-ns ph7-l">
      <a class="no-underline ba ma6 white grow br-pill b--pink bg-black bw1 ph3 pv2 center" href="/html/">
        Go back Home!
      </a>
      <h3 class="f2 f1-m f-headline-l measure-narrow lh-title mv0 mv3">
        <span class="bg-black-90 lh-copy white pa1 tracked-tight">
          Qustions
        </span>
      </h3>
    </div>
  </header>
  <div class="mw7 mw-2-l pa3 bg-washed-green">
    <form action="/" method="POST">
      <div class="flex justify-between">
        <div class="fl w-50 mr2">
          <label for="name" class="f6 b db mb2">Name</label>
          <input id="name" class="input-reset ba b--black-20 pa2 mb2 db w-100" type="text" aria-describedby="name-desc">
        </div>
        <div class="fl w-50">
          <label for="photo" class="f6 b db mb2">Photo</label>
          <input id="photo" class="input-reset ba b--black-20 pa2 mb2 db w-100" type="text" aria-describedby="name-desc">
        </div>
      </div>
      <div id='questions'></div>
      <button id="submit" class="ba b--black bg-white black grow ma2 pa2" type="submit">Submit Your Results!</button>
    </form>
  </div>
  <script>
    let formData = new FormData(document.querySelector('form'));
    console.log(formData);
    const submitBtn = document.getElementById('submit');
    let survey = document.getElementById('questions');
    const sendDataToAPI = () => {
      formData.append()
    }

    const questions = ['tobacco', 'alcohol', 'marijuana', 'crystal meth', 'Stalin', 'Vegemite', 'Footbal, not egg ball', 'Pabst', 'IPA', 'jenkem']

    const generateRadioQuestion = (q, i) => {
      return `<div class="f3">On a scale of 1 to 5 how do you feel about ${q}</div>
      <div class="flex justify-between mt3">
        <div>
          <input type="radio" name="q${i}" value="1">1
        </div>
        <div>
          <input type="radio" name="q${i}" value="2">2
        </div>
        <div>
          <input type="radio" name="q${i}" value="3">3
        </div>
        <div>
          <input type="radio" name="q${i}" value="4">4
        </div>
        <div>
          <input type="radio" name="q${i}" value="5">5
        </div>
      </div>
      <hr>`
    };

    const renderedQs = questions.map((x, i) => generateRadioQuestion(x, i)).join('');
    console.log(renderedQs);
    survey.innerHTML = renderedQs;

    submitBtn.addEventListener('click', sendDataToAPI)
  </script>
</body>

</html>